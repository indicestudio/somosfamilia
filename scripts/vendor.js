!function(t,e,o,i){function a(e,o){var n=this;"object"==typeof o&&(delete o.refresh,delete o.render,t.extend(this,o)),this.$element=t(e),!this.imageSrc&&this.$element.is("img")&&(this.imageSrc=this.$element.attr("src"));var r=(this.position+"").toLowerCase().match(/\S+/g)||[];if(r.length<1&&r.push("center"),1==r.length&&r.push(r[0]),"top"!=r[0]&&"bottom"!=r[0]&&"left"!=r[1]&&"right"!=r[1]||(r=[r[1],r[0]]),this.positionX!=i&&(r[0]=this.positionX.toLowerCase()),this.positionY!=i&&(r[1]=this.positionY.toLowerCase()),n.positionX=r[0],n.positionY=r[1],"left"!=this.positionX&&"right"!=this.positionX&&(isNaN(parseInt(this.positionX))?this.positionX="center":this.positionX=parseInt(this.positionX)),"top"!=this.positionY&&"bottom"!=this.positionY&&(isNaN(parseInt(this.positionY))?this.positionY="center":this.positionY=parseInt(this.positionY)),this.position=this.positionX+(isNaN(this.positionX)?"":"px")+" "+this.positionY+(isNaN(this.positionY)?"":"px"),navigator.userAgent.match(/(iPod|iPhone|iPad)/))return this.imageSrc&&this.iosFix&&!this.$element.is("img")&&this.$element.css({backgroundImage:"url("+this.imageSrc+")",backgroundSize:"cover",backgroundPosition:this.position}),this;if(navigator.userAgent.match(/(Android)/))return this.imageSrc&&this.androidFix&&!this.$element.is("img")&&this.$element.css({backgroundImage:"url("+this.imageSrc+")",backgroundSize:"cover",backgroundPosition:this.position}),this;this.$mirror=t("<div />").prependTo("body");var l=this.$element.find(">.parallax-slider"),s=!1;0==l.length?this.$slider=t("<img />").prependTo(this.$mirror):(this.$slider=l.prependTo(this.$mirror),s=!0),this.$mirror.addClass("parallax-mirror").css({visibility:"hidden",zIndex:this.zIndex,position:"fixed",top:0,left:0,overflow:"hidden"}),this.$slider.addClass("parallax-slider").one("load",function(){n.naturalHeight&&n.naturalWidth||(n.naturalHeight=this.naturalHeight||this.height||1,n.naturalWidth=this.naturalWidth||this.width||1),n.aspectRatio=n.naturalWidth/n.naturalHeight,a.isSetup||a.setup(),a.sliders.push(n),a.isFresh=!1,a.requestRender()}),s||(this.$slider[0].src=this.imageSrc),(this.naturalHeight&&this.naturalWidth||this.$slider[0].complete||l.length>0)&&this.$slider.trigger("load")}function n(i){return this.each(function(){var n=t(this),r="object"==typeof i&&i;this==e||this==o||n.is("body")?a.configure(r):n.data("px.parallax")?"object"==typeof i&&t.extend(n.data("px.parallax"),r):(r=t.extend({},n.data(),r),n.data("px.parallax",new a(this,r))),"string"==typeof i&&("destroy"==i?a.destroy(this):a[i]())})}!function(){for(var t=0,o=["ms","moz","webkit","o"],i=0;i<o.length&&!e.requestAnimationFrame;++i)e.requestAnimationFrame=e[o[i]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[o[i]+"CancelAnimationFrame"]||e[o[i]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(o){var i=(new Date).getTime(),a=Math.max(0,16-(i-t)),n=e.setTimeout(function(){o(i+a)},a);return t=i+a,n}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(t){clearTimeout(t)})}(),t.extend(a.prototype,{speed:.2,bleed:0,zIndex:-100,iosFix:!0,androidFix:!0,position:"center",overScrollFix:!1,refresh:function(){this.boxWidth=this.$element.outerWidth(),this.boxHeight=this.$element.outerHeight()+2*this.bleed,this.boxOffsetTop=this.$element.offset().top-this.bleed,this.boxOffsetLeft=this.$element.offset().left,this.boxOffsetBottom=this.boxOffsetTop+this.boxHeight;var t=a.winHeight,e=a.docHeight,o=Math.min(this.boxOffsetTop,e-t),i=Math.max(this.boxOffsetTop+this.boxHeight-t,0),n=this.boxHeight+(o-i)*(1-this.speed)|0,r=(this.boxOffsetTop-o)*(1-this.speed)|0;if(n*this.aspectRatio>=this.boxWidth){this.imageWidth=n*this.aspectRatio|0,this.imageHeight=n,this.offsetBaseTop=r;var l=this.imageWidth-this.boxWidth;"left"==this.positionX?this.offsetLeft=0:"right"==this.positionX?this.offsetLeft=-l:isNaN(this.positionX)?this.offsetLeft=-l/2|0:this.offsetLeft=Math.max(this.positionX,-l)}else{this.imageWidth=this.boxWidth,this.imageHeight=this.boxWidth/this.aspectRatio|0,this.offsetLeft=0;var l=this.imageHeight-n;"top"==this.positionY?this.offsetBaseTop=r:"bottom"==this.positionY?this.offsetBaseTop=r-l:isNaN(this.positionY)?this.offsetBaseTop=r-l/2|0:this.offsetBaseTop=r+Math.max(this.positionY,-l)}},render:function(){var t=a.scrollTop,e=a.scrollLeft,o=this.overScrollFix?a.overScroll:0,i=t+a.winHeight;this.boxOffsetBottom>t&&this.boxOffsetTop<=i?(this.visibility="visible",this.mirrorTop=this.boxOffsetTop-t,this.mirrorLeft=this.boxOffsetLeft-e,this.offsetTop=this.offsetBaseTop-this.mirrorTop*(1-this.speed)):this.visibility="hidden",this.$mirror.css({transform:"translate3d(0px, 0px, 0px)",visibility:this.visibility,top:this.mirrorTop-o,left:this.mirrorLeft,height:this.boxHeight,width:this.boxWidth}),this.$slider.css({transform:"translate3d(0px, 0px, 0px)",position:"absolute",top:this.offsetTop,left:this.offsetLeft,height:this.imageHeight,width:this.imageWidth,maxWidth:"none"})}}),t.extend(a,{scrollTop:0,scrollLeft:0,winHeight:0,winWidth:0,docHeight:1<<30,docWidth:1<<30,sliders:[],isReady:!1,isFresh:!1,isBusy:!1,setup:function(){if(!this.isReady){var i=t(o),n=t(e),r=function(){a.winHeight=n.height(),a.winWidth=n.width(),a.docHeight=i.height(),a.docWidth=i.width()},l=function(){var t=n.scrollTop(),e=a.docHeight-a.winHeight,o=a.docWidth-a.winWidth;a.scrollTop=Math.max(0,Math.min(e,t)),a.scrollLeft=Math.max(0,Math.min(o,n.scrollLeft())),a.overScroll=Math.max(t-e,Math.min(t,0))};n.on("resize.px.parallax load.px.parallax",function(){r(),a.isFresh=!1,a.requestRender()}).on("scroll.px.parallax load.px.parallax",function(){l(),a.requestRender()}),r(),l(),this.isReady=!0}},configure:function(e){"object"==typeof e&&(delete e.refresh,delete e.render,t.extend(this.prototype,e))},refresh:function(){t.each(this.sliders,function(){this.refresh()}),this.isFresh=!0},render:function(){this.isFresh||this.refresh(),t.each(this.sliders,function(){this.render()})},requestRender:function(){var t=this;this.isBusy||(this.isBusy=!0,e.requestAnimationFrame(function(){t.render(),t.isBusy=!1}))},destroy:function(o){var i,n=t(o).data("px.parallax");for(n.$mirror.remove(),i=0;i<this.sliders.length;i+=1)this.sliders[i]==n&&this.sliders.splice(i,1);t(o).data("px.parallax",!1),0===this.sliders.length&&(t(e).off("scroll.px.parallax resize.px.parallax load.px.parallax"),this.isReady=!1,a.isSetup=!1)}});var r=t.fn.parallax;t.fn.parallax=n,t.fn.parallax.Constructor=a,t.fn.parallax.noConflict=function(){return t.fn.parallax=r,this},t(o).on("ready.px.parallax.data-api",function(){t('[data-parallax="scroll"]').parallax()})}(jQuery,window,document);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(t,e){var o=0,i=Array.prototype.slice,a=t.cleanData;t.cleanData=function(e){for(var o,i=0;null!=(o=e[i]);i++)try{t(o).triggerHandler("remove")}catch(n){}a(e)},t.widget=function(e,o,i){var a,n,r,l,s={},c=e.split(".")[0];e=e.split(".")[1],a=c+"-"+e,i||(i=o,o=t.Widget),t.expr[":"][a.toLowerCase()]=function(e){return!!t.data(e,a)},t[c]=t[c]||{},n=t[c][e],r=t[c][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new r(t,e)},t.extend(r,n,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),l=new o,l.options=t.widget.extend({},l.options),t.each(i,function(e,i){return t.isFunction(i)?void(s[e]=function(){var t=function(){return o.prototype[e].apply(this,arguments)},a=function(t){return o.prototype[e].apply(this,t)};return function(){var e,o=this._super,n=this._superApply;return this._super=t,this._superApply=a,e=i.apply(this,arguments),this._super=o,this._superApply=n,e}}()):void(s[e]=i)}),r.prototype=t.widget.extend(l,{widgetEventPrefix:n?l.widgetEventPrefix:e},s,{constructor:r,namespace:c,widgetName:e,widgetFullName:a}),n?(t.each(n._childConstructors,function(e,o){var i=o.prototype;t.widget(i.namespace+"."+i.widgetName,r,o._proto)}),delete n._childConstructors):o._childConstructors.push(r),t.widget.bridge(e,r)},t.widget.extend=function(o){for(var a,n,r=i.call(arguments,1),l=0,s=r.length;s>l;l++)for(a in r[l])n=r[l][a],r[l].hasOwnProperty(a)&&n!==e&&(t.isPlainObject(n)?o[a]=t.isPlainObject(o[a])?t.widget.extend({},o[a],n):t.widget.extend({},n):o[a]=n);return o},t.widget.bridge=function(o,a){var n=a.prototype.widgetFullName||o;t.fn[o]=function(r){var l="string"==typeof r,s=i.call(arguments,1),c=this;return r=!l&&s.length?t.widget.extend.apply(null,[r].concat(s)):r,l?this.each(function(){var i,a=t.data(this,n);return a?t.isFunction(a[r])&&"_"!==r.charAt(0)?(i=a[r].apply(a,s),i!==a&&i!==e?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+r+"' for "+o+" widget instance"):t.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+r+"'")}):this.each(function(){var e=t.data(this,n);e?e.option(r||{})._init():t.data(this,n,new a(r,this))}),c}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=o++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(o,i){var a,n,r,l=o;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof o)if(l={},a=o.split("."),o=a.shift(),a.length){for(n=l[o]=t.widget.extend({},this.options[o]),r=0;r<a.length-1;r++)n[a[r]]=n[a[r]]||{},n=n[a[r]];if(o=a.pop(),i===e)return n[o]===e?null:n[o];n[o]=i}else{if(i===e)return this.options[o]===e?null:this.options[o];l[o]=i}return this._setOptions(l),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,o,i){var a,n=this;"boolean"!=typeof e&&(i=o,o=e,e=!1),i?(o=a=t(o),this.bindings=this.bindings.add(o)):(i=o,o=this.element,a=this.widget()),t.each(i,function(i,r){function l(){return e||n.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof r?n[r]:r).apply(n,arguments):void 0}"string"!=typeof r&&(l.guid=r.guid=r.guid||l.guid||t.guid++);var s=i.match(/^(\w+)\s*(.*)$/),c=s[1]+n.eventNamespace,d=s[2];d?a.delegate(d,c,l):o.bind(c,l)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function o(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(o,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,o,i){var a,n,r=this.options[e];if(i=i||{},o=t.Event(o),o.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),o.target=this.element[0],n=o.originalEvent)for(a in n)a in o||(o[a]=n[a]);return this.element.trigger(o,i),!(t.isFunction(r)&&r.apply(this.element[0],[o].concat(i))===!1||o.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,o){t.Widget.prototype["_"+e]=function(i,a,n){"string"==typeof a&&(a={effect:a});var r,l=a?a===!0||"number"==typeof a?o:a.effect||o:e;a=a||{},"number"==typeof a&&(a={duration:a}),r=!t.isEmptyObject(a),a.complete=n,a.delay&&i.delay(a.delay),r&&t.effects&&t.effects.effect[l]?i[e](a):l!==e&&i[l]?i[l](a.duration,a.easing,n):i.queue(function(o){t(this)[e](),n&&n.call(i[0]),o()})}})}(jQuery),function(t,e){var o="ui-effects-";t.effects={effect:{}},function(t,e){function o(t,e,o){var i=h[e.type]||{};return null==t?o||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:i.max<t?i.max:t)}function i(e){var o=c(),i=o._rgba=[];return e=e.toLowerCase(),f(s,function(t,a){var n,r=a.re.exec(e),l=r&&a.parse(r),s=a.space||"rgba";return l?(n=o[s](l),o[d[s].cache]=n[d[s].cache],i=o._rgba=n._rgba,!1):void 0}),i.length?("0,0,0,0"===i.join()&&t.extend(i,n.transparent),o):n[e]}function a(t,e,o){return o=(o+1)%1,1>6*o?t+(e-t)*o*6:1>2*o?e:2>3*o?t+(e-t)*(2/3-o)*6:t}var n,r="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",l=/^([\-+])=\s*(\d+\.?\d*)/,s=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],c=t.Color=function(e,o,i,a){return new t.Color.fn.parse(e,o,i,a)},d={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},u=c.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",u.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(d,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),c.fn=t.extend(c.prototype,{parse:function(a,r,l,s){if(a===e)return this._rgba=[null,null,null,null],this;(a.jquery||a.nodeType)&&(a=t(a).css(r),r=e);var h=this,u=t.type(a),p=this._rgba=[];return r!==e&&(a=[a,r,l,s],u="array"),"string"===u?this.parse(i(a)||n._default):"array"===u?(f(d.rgba.props,function(t,e){p[e.idx]=o(a[e.idx],e)}),this):"object"===u?(a instanceof c?f(d,function(t,e){a[e.cache]&&(h[e.cache]=a[e.cache].slice())}):f(d,function(e,i){var n=i.cache;f(i.props,function(t,e){if(!h[n]&&i.to){if("alpha"===t||null==a[t])return;h[n]=i.to(h._rgba)}h[n][e.idx]=o(a[t],e,!0)}),h[n]&&t.inArray(null,h[n].slice(0,3))<0&&(h[n][3]=1,i.from&&(h._rgba=i.from(h[n])))}),this):void 0},is:function g(t){var g=c(t),e=!0,o=this;return f(d,function(t,i){var a,n=g[i.cache];return n&&(a=o[i.cache]||i.to&&i.to(o._rgba)||[],f(i.props,function(t,o){return null!=n[o.idx]?e=n[o.idx]===a[o.idx]:void 0})),e}),e},_space:function(){var t=[],e=this;return f(d,function(o,i){e[i.cache]&&t.push(o)}),t.pop()},transition:function(t,e){var i=c(t),a=i._space(),n=d[a],r=0===this.alpha()?c("transparent"):this,l=r[n.cache]||n.to(r._rgba),s=l.slice();return i=i[n.cache],f(n.props,function(t,a){var n=a.idx,r=l[n],c=i[n],d=h[a.type]||{};null!==c&&(null===r?s[n]=c:(d.mod&&(c-r>d.mod/2?r+=d.mod:r-c>d.mod/2&&(r-=d.mod)),s[n]=o((c-r)*e+r,a)))}),this[a](s)},blend:function m(e){if(1===this._rgba[3])return this;var o=this._rgba.slice(),i=o.pop(),m=c(e)._rgba;return c(t.map(o,function(t,e){return(1-i)*m[e]+i*t}))},toRgbaString:function(){var e="rgba(",o=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===o[3]&&(o.pop(),e="rgb("),e+o.join()+")"},toHslaString:function(){var e="hsla(",o=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===o[3]&&(o.pop(),e="hsl("),e+o.join()+")"},toHexString:function(e){var o=this._rgba.slice(),i=o.pop();return e&&o.push(~~(255*i)),"#"+t.map(o,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,d.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,o,i=t[0]/255,a=t[1]/255,n=t[2]/255,r=t[3],l=Math.max(i,a,n),s=Math.min(i,a,n),c=l-s,d=l+s,h=.5*d;return e=s===l?0:i===l?60*(a-n)/c+360:a===l?60*(n-i)/c+120:60*(i-a)/c+240,o=0===c?0:.5>=h?c/d:c/(2-d),[Math.round(e)%360,o,h,null==r?1:r]},d.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,o=t[1],i=t[2],n=t[3],r=.5>=i?i*(1+o):i+o-i*o,l=2*i-r;return[Math.round(255*a(l,r,e+1/3)),Math.round(255*a(l,r,e)),Math.round(255*a(l,r,e-1/3)),n]},f(d,function(i,a){var n=a.props,r=a.cache,s=a.to,d=a.from;c.fn[i]=function(i){if(s&&!this[r]&&(this[r]=s(this._rgba)),i===e)return this[r].slice();var a,l=t.type(i),h="array"===l||"object"===l?i:arguments,u=this[r].slice();return f(n,function(t,e){var i=h["object"===l?t:e.idx];null==i&&(i=u[e.idx]),u[e.idx]=o(i,e)}),d?(a=c(d(u)),a[r]=u,a):c(u)},f(n,function(e,o){c.fn[e]||(c.fn[e]=function(a){var n,r=t.type(a),s="alpha"===e?this._hsla?"hsla":"rgba":i,c=this[s](),d=c[o.idx];return"undefined"===r?d:("function"===r&&(a=a.call(this,d),r=t.type(a)),null==a&&o.empty?this:("string"===r&&(n=l.exec(a),n&&(a=d+parseFloat(n[2])*("+"===n[1]?1:-1))),c[o.idx]=a,this[s](c)))})})}),c.hook=function(e){var o=e.split(" ");f(o,function(e,o){t.cssHooks[o]={set:function(e,a){var n,r,l="";if("transparent"!==a&&("string"!==t.type(a)||(n=i(a)))){if(a=c(n||a),!u.rgba&&1!==a._rgba[3]){for(r="backgroundColor"===o?e.parentNode:e;(""===l||"transparent"===l)&&r&&r.style;)try{l=t.css(r,"backgroundColor"),r=r.parentNode}catch(s){}a=a.blend(l&&"transparent"!==l?l:"_default")}a=a.toRgbaString()}try{e.style[o]=a}catch(s){}}},t.fx.step[o]=function(e){e.colorInit||(e.start=c(e.elem,o),e.end=c(e.end),e.colorInit=!0),t.cssHooks[o].set(e.elem,e.start.transition(e.end,e.pos))}})},c.hook(r),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(o,i){e["border"+i+"Color"]=t}),e}},n=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function o(e){var o,i,a=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,n={};if(a&&a.length&&a[0]&&a[a[0]])for(i=a.length;i--;)o=a[i],"string"==typeof a[o]&&(n[t.camelCase(o)]=a[o]);else for(o in a)"string"==typeof a[o]&&(n[o]=a[o]);return n}function i(e,o){var i,a,r={};for(i in o)a=o[i],e[i]!==a&&(n[i]||!t.fx.step[i]&&isNaN(parseFloat(a))||(r[i]=a));return r}var a=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,o){t.fx.step[o]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,o,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,n,r,l){var s=t.speed(n,r,l);return this.queue(function(){var n,r=t(this),l=r.attr("class")||"",c=s.children?r.find("*").addBack():r;c=c.map(function(){var e=t(this);return{el:e,start:o(this)}}),n=function(){t.each(a,function(t,o){e[o]&&r[o+"Class"](e[o])})},n(),c=c.map(function(){return this.end=o(this.el[0]),this.diff=i(this.start,this.end),this}),r.attr("class",l),c=c.map(function(){var e=this,o=t.Deferred(),i=t.extend({},s,{queue:!1,complete:function(){o.resolve(e)}});return this.el.animate(this.diff,i),o.promise()}),t.when.apply(t,c.get()).done(function(){n(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),s.complete.call(r[0])})})},t.fn.extend({addClass:function(e){return function(o,i,a,n){return i?t.effects.animateClass.call(this,{add:o},i,a,n):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(o,i,a,n){return arguments.length>1?t.effects.animateClass.call(this,{remove:o},i,a,n):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(o){return function(i,a,n,r,l){return"boolean"==typeof a||a===e?n?t.effects.animateClass.call(this,a?{add:i}:{remove:i},n,r,l):o.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},a,n,r)}}(t.fn.toggleClass),switchClass:function(e,o,i,a,n){return t.effects.animateClass.call(this,{add:o,remove:e},i,a,n)}})}(),function(){function i(e,o,i,a){return t.isPlainObject(e)&&(o=e,e=e.effect),e={effect:e},null==o&&(o={}),t.isFunction(o)&&(a=o,i=null,o={}),("number"==typeof o||t.fx.speeds[o])&&(a=i,i=o,o={}),t.isFunction(i)&&(a=i,i=null),o&&t.extend(e,o),i=i||o.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=a||o.complete,e}function a(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"===("undefined"==typeof e?"undefined":_typeof(e))&&!e.effect:!0}t.extend(t.effects,{version:"1.10.3",save:function(t,e){for(var i=0;i<e.length;i++)null!==e[i]&&t.data(o+e[i],t[0].style[e[i]])},restore:function(t,i){var a,n;for(n=0;n<i.length;n++)null!==i[n]&&(a=t.data(o+i[n]),a===e&&(a=""),t.css(i[n],a))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var o,i;switch(t[0]){case"top":o=0;break;case"middle":o=.5;break;case"bottom":o=1;break;default:o=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:o}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var o={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),a={width:e.width(),height:e.height()},n=document.activeElement;try{n.id}catch(r){n=document.body}return e.wrap(i),(e[0]===n||t.contains(e[0],n))&&t(n).focus(),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(o,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){o[i]=e.css(i),isNaN(parseInt(o[i],10))&&(o[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(a),i.css(o).show()},removeWrapper:function(e){var o=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===o||t.contains(e[0],o))&&t(o).focus()),e},setTransition:function(e,o,i,a){return a=a||{},t.each(o,function(t,o){var n=e.cssUnit(o);n[0]>0&&(a[o]=n[0]*i+n[1])}),a}}),t.fn.extend({effect:function(){function e(e){function i(){t.isFunction(n)&&n.call(a[0]),t.isFunction(e)&&e()}var a=t(this),n=o.complete,l=o.mode;(a.is(":hidden")?"hide"===l:"show"===l)?(a[l](),i()):r.call(a[0],o,i)}var o=i.apply(this,arguments),a=o.mode,n=o.queue,r=t.effects.effect[o.effect];return t.fx.off||!r?a?this[a](o.duration,o.complete):this.each(function(){o.complete&&o.complete.call(this)}):n===!1?this.each(e):this.queue(n||"fx",e)},show:function(t){return function(e){if(a(e))return t.apply(this,arguments);var o=i.apply(this,arguments);return o.mode="show",this.effect.call(this,o)}}(t.fn.show),hide:function(t){return function(e){if(a(e))return t.apply(this,arguments);var o=i.apply(this,arguments);return o.mode="hide",this.effect.call(this,o)}}(t.fn.hide),toggle:function(t){return function(e){if(a(e)||"boolean"==typeof e)return t.apply(this,arguments);var o=i.apply(this,arguments);return o.mode="toggle",this.effect.call(this,o)}}(t.fn.toggle),cssUnit:function(e){var o=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){o.indexOf(e)>0&&(i=[parseFloat(o),e])}),i}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,o){e[o]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,o=4;t<((e=Math.pow(2,--o))-1)/11;);return 1/Math.pow(4,3-o)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,o){t.easing["easeIn"+e]=o,t.easing["easeOut"+e]=function(t){return 1-o(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?o(2*t)/2:1-o(-2*t+2)/2}})}()}(jQuery),function(t){"use strict";var e={cursor:"move",decelerate:!0,triggerHardware:!1,y:!0,x:!0,slowdown:.9,maxvelocity:40,throttleFPS:60,movingClass:{up:"kinetic-moving-up",down:"kinetic-moving-down",left:"kinetic-moving-left",right:"kinetic-moving-right"},deceleratingClass:{up:"kinetic-decelerating-up",down:"kinetic-decelerating-down",left:"kinetic-decelerating-left",right:"kinetic-decelerating-right"}},o="kinetic-settings",i="kinetic-active";window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){window.setTimeout(t,1e3/60)}}()),t.support=t.support||{},t.extend(t.support,{touch:"ontouchend"in document});var a=function(){return!1},n=function(t,e){return 0===Math.floor(Math.abs(t))?0:t*e},r=function(t,e){var o=t;return t>0?t>e&&(o=e):0-e>t&&(o=0-e),o},l=function(t,e){this.removeClass(t.movingClass.up).removeClass(t.movingClass.down).removeClass(t.movingClass.left).removeClass(t.movingClass.right).removeClass(t.deceleratingClass.up).removeClass(t.deceleratingClass.down).removeClass(t.deceleratingClass.left).removeClass(t.deceleratingClass.right),t.velocity>0&&this.addClass(e.right),t.velocity<0&&this.addClass(e.left),t.velocityY>0&&this.addClass(e.down),t.velocityY<0&&this.addClass(e.up)},s=function(t,e){e.velocity=0,e.velocityY=0,e.decelerate=!0,"function"==typeof e.stopped&&e.stopped.call(t,e)},c=function f(t,e){var o=t[0];e.x&&o.scrollWidth>0?(o.scrollLeft=e.scrollLeft=o.scrollLeft+e.velocity,Math.abs(e.velocity)>0&&(e.velocity=e.decelerate?n(e.velocity,e.slowdown):e.velocity)):e.velocity=0,e.y&&o.scrollHeight>0?(o.scrollTop=e.scrollTop=o.scrollTop+e.velocityY,Math.abs(e.velocityY)>0&&(e.velocityY=e.decelerate?n(e.velocityY,e.slowdown):e.velocityY)):e.velocityY=0,l.call(t,e,e.deceleratingClass),"function"==typeof e.moved&&e.moved.call(t,e),Math.abs(e.velocity)>0||Math.abs(e.velocityY)>0?window.requestAnimationFrame(function(){f(t,e)}):s(t,e)},d=function(e,i){var a=t.kinetic.callMethods[e],n=Array.prototype.slice.call(arguments);a&&this.each(function(){var e=n.slice(1),i=t(this).data(o);e.unshift(i),a.apply(this,e)})},h=function(e,o){e[0];t.support.touch?e.bind("touchstart",o.events.touchStart).bind("touchend",o.events.inputEnd).bind("touchmove",o.events.touchMove):e.mousedown(o.events.inputDown).mouseup(o.events.inputEnd).mousemove(o.events.inputMove),e.click(o.events.inputClick).scroll(o.events.scroll).bind("selectstart",a).bind("dragstart",o.events.dragStart)},u=function(e,o){e[0];t.support.touch?e.unbind("touchstart",o.events.touchStart).unbind("touchend",o.events.inputEnd).unbind("touchmove",o.events.touchMove):e.unbind("mousedown",o.events.inputDown).unbind("mouseup",o.events.inputEnd).unbind("mousemove",o.events.inputMove).unbind("scroll",o.events.scroll),e.unbind("click",o.events.inputClick).unbind("selectstart",a),e.unbind("dragstart",o.events.dragStart)},p=function(a){this.addClass(i).each(function(){var i=this,n=t(this);if(!n.data(o)){var s,d,u,p,f=t.extend({},e,a),g=!1,m=!1,b=!1,v=1e3/f.throttleFPS;f.velocity=0,f.velocityY=0;var S=function(){s=!1,d=!1,b=!1};t(document).mouseup(S).click(S);var w=function(){f.velocity=r(g-s,f.maxvelocity),f.velocityY=r(m-d,f.maxvelocity)},y=function(e){return t.isFunction(f.filterTarget)?f.filterTarget.call(i,e)!==!1:!0},x=function(t,e){b=!0,f.velocity=g=0,f.velocityY=m=0,s=t,d=e},H=function(){s&&g&&f.decelerate===!1&&(f.decelerate=!0,w(),s=g=b=!1,c(n,f))},A=function(e,o){(!u||new Date>new Date(u.getTime()+v))&&(u=new Date,b&&(s||d)&&(p&&(t(p).blur(),p=null,n.focus()),f.decelerate=!1,f.velocity=f.velocityY=0,n[0].scrollLeft=f.scrollLeft=f.x?n[0].scrollLeft-(e-s):n[0].scrollLeft,n[0].scrollTop=f.scrollTop=f.y?n[0].scrollTop-(o-d):n[0].scrollTop,g=s,m=d,s=e,d=o,w(),l.call(n,f,f.movingClass),"function"==typeof f.moved&&f.moved.call(n,f)))};f.events={touchStart:function(t){var e;y(t.target)&&(e=t.originalEvent.touches[0],x(e.clientX,e.clientY),t.stopPropagation())},touchMove:function(t){var e;b&&(e=t.originalEvent.touches[0],A(e.clientX,e.clientY),t.preventDefault&&t.preventDefault())},inputDown:function(t){y(t.target)&&(x(t.clientX,t.clientY),p=t.target,"IMG"===t.target.nodeName&&t.preventDefault(),t.stopPropagation())},inputEnd:function(t){H(),p=null,t.preventDefault&&t.preventDefault()},inputMove:function(t){b&&(A(t.clientX,t.clientY),t.preventDefault&&t.preventDefault())},scroll:function(t){"function"==typeof f.moved&&f.moved.call(n,f),t.preventDefault&&t.preventDefault()},inputClick:function(t){return Math.abs(f.velocity)>0?(t.preventDefault(),!1):void 0},dragStart:function(t){return p?!1:void 0}},h(n,f),n.data(o,f).css("cursor",f.cursor),f.triggerHardware&&n.css({"-webkit-transform":"translate3d(0,0,0)","-webkit-perspective":"1000","-webkit-backface-visibility":"hidden"})}})};t.kinetic={settingsKey:o,callMethods:{start:function(e,o){var i=t(this);e=t.extend(e,o),e&&(e.decelerate=!1,c(i,e))},end:function(e,o){t(this);e&&(e.decelerate=!0)},stop:function(e,o){var i=t(this);s(i,e)},detach:function(e,o){var a=t(this);u(a,e),a.removeClass(i).css("cursor","")},attach:function(e,o){var a=t(this);h(a,e),a.addClass(i).css("cursor","move")}}},t.fn.kinetic=function(t){return"string"==typeof t?d.apply(this,arguments):p.call(this,t),this}}(window.jQuery||window.Zepto);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t:t(jQuery)}(function(t){function e(e){var a,n=e||window.event,r=[].slice.call(arguments,1),l=0,s=0,c=0,d=0,h=0;return e=t.event.fix(n),e.type="mousewheel",n.wheelDelta&&(l=n.wheelDelta),n.detail&&(l=-1*n.detail),c=l,void 0!==n.axis&&n.axis===n.HORIZONTAL_AXIS&&(c=0,
s=-1*l),n.deltaY&&(c=-1*n.deltaY,l=c),n.deltaX&&(s=n.deltaX,l=-1*s),void 0!==n.wheelDeltaY&&(c=n.wheelDeltaY),void 0!==n.wheelDeltaX&&(s=-1*n.wheelDeltaX),d=Math.abs(l),(!o||o>d)&&(o=d),h=Math.max(Math.abs(c),Math.abs(s)),(!i||i>h)&&(i=h),a=l>0?"floor":"ceil",l=Math[a](l/o),s=Math[a](s/i),c=Math[a](c/i),r.unshift(e,l,s,c),(t.event.dispatch||t.event.handle).apply(this,r)}var o,i,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],n="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(t.event.fixHooks)for(var r=a.length;r;)t.event.fixHooks[a[--r]]=t.event.mouseHooks;t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=n.length;t;)this.addEventListener(n[--t],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var t=n.length;t;)this.removeEventListener(n[--t],e,!1);else this.onmousewheel=null}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),function(t){t.widget("thomaskahn.smoothDivScroll",{options:{scrollingHotSpotLeftClass:"scrollingHotSpotLeft",scrollingHotSpotRightClass:"scrollingHotSpotRight",scrollingHotSpotLeftVisibleClass:"scrollingHotSpotLeftVisible",scrollingHotSpotRightVisibleClass:"scrollingHotSpotRightVisible",scrollableAreaClass:"scrollableArea",scrollWrapperClass:"scrollWrapper",hiddenOnStart:!1,getContentOnLoad:{},countOnlyClass:"",startAtElementId:"",hotSpotScrolling:!0,hotSpotScrollingStep:15,hotSpotScrollingInterval:10,hotSpotMouseDownSpeedBooster:3,visibleHotSpotBackgrounds:"hover",hotSpotsVisibleTime:5e3,easingAfterHotSpotScrolling:!0,easingAfterHotSpotScrollingDistance:10,easingAfterHotSpotScrollingDuration:300,easingAfterHotSpotScrollingFunction:"easeOutQuart",mousewheelScrolling:"",mousewheelScrollingStep:70,easingAfterMouseWheelScrolling:!0,easingAfterMouseWheelScrollingDuration:300,easingAfterMouseWheelScrollingFunction:"easeOutQuart",manualContinuousScrolling:!1,autoScrollingMode:"",autoScrollingDirection:"endlessLoopRight",autoScrollingStep:1,autoScrollingInterval:10,touchScrolling:!1,scrollToAnimationDuration:1e3,scrollToEasingFunction:"easeOutQuart"},_create:function(){var e=this,o=this.options,i=this.element;i.data("scrollWrapper",i.find("."+o.scrollWrapperClass)),i.data("scrollingHotSpotRight",i.find("."+o.scrollingHotSpotRightClass)),i.data("scrollingHotSpotLeft",i.find("."+o.scrollingHotSpotLeftClass)),i.data("scrollableArea",i.find("."+o.scrollableAreaClass)),i.data("scrollingHotSpotRight").length>0&&i.data("scrollingHotSpotRight").detach(),i.data("scrollingHotSpotLeft").length>0&&i.data("scrollingHotSpotLeft").detach(),0===i.data("scrollableArea").length&&0===i.data("scrollWrapper").length?(i.wrapInner("<div class='"+o.scrollableAreaClass+"'>").wrapInner("<div class='"+o.scrollWrapperClass+"'>"),i.data("scrollWrapper",i.find("."+o.scrollWrapperClass)),i.data("scrollableArea",i.find("."+o.scrollableAreaClass))):0===i.data("scrollWrapper").length?(i.wrapInner("<div class='"+o.scrollWrapperClass+"'>"),i.data("scrollWrapper",i.find("."+o.scrollWrapperClass))):0===i.data("scrollableArea").length&&(i.data("scrollWrapper").wrapInner("<div class='"+o.scrollableAreaClass+"'>"),i.data("scrollableArea",i.find("."+o.scrollableAreaClass))),0===i.data("scrollingHotSpotRight").length?(i.prepend("<div class='"+o.scrollingHotSpotRightClass+"'></div>"),i.data("scrollingHotSpotRight",i.find("."+o.scrollingHotSpotRightClass))):i.prepend(i.data("scrollingHotSpotRight")),0===i.data("scrollingHotSpotLeft").length?(i.prepend("<div class='"+o.scrollingHotSpotLeftClass+"'></div>"),i.data("scrollingHotSpotLeft",i.find("."+o.scrollingHotSpotLeftClass))):i.prepend(i.data("scrollingHotSpotLeft")),i.data("speedBooster",1),i.data("scrollXPos",0),i.data("hotSpotWidth",i.data("scrollingHotSpotLeft").innerWidth()),i.data("scrollableAreaWidth",0),i.data("startingPosition",0),i.data("rightScrollingInterval",null),i.data("leftScrollingInterval",null),i.data("autoScrollingInterval",null),i.data("hideHotSpotBackgroundsInterval",null),i.data("previousScrollLeft",0),i.data("pingPongDirection","right"),i.data("getNextElementWidth",!0),i.data("swapAt",null),i.data("startAtElementHasNotPassed",!0),i.data("swappedElement",null),i.data("originalElements",i.data("scrollableArea").children(o.countOnlyClass)),i.data("visible",!0),i.data("enabled",!0),i.data("scrollableAreaHeight",i.data("scrollableArea").height()),i.data("scrollerOffset",i.offset()),o.touchScrolling&&i.data("enabled")&&i.data("scrollWrapper").kinetic({y:!1,moved:function(t){o.manualContinuousScrolling&&(i.data("scrollWrapper").scrollLeft()<=0?e._checkContinuousSwapLeft():e._checkContinuousSwapRight()),e._trigger("touchMoved")},stopped:function(t){i.data("scrollWrapper").stop(!0,!1),e.stopAutoScrolling(),e._trigger("touchStopped")}}),i.data("scrollingHotSpotRight").bind("mousemove",function(e){if(o.hotSpotScrolling){var a=e.pageX-t(this).offset().left;i.data("scrollXPos",Math.round(a/i.data("hotSpotWidth")*o.hotSpotScrollingStep)),(i.data("scrollXPos")===1/0||i.data("scrollXPos")<1)&&i.data("scrollXPos",1)}}),i.data("scrollingHotSpotRight").bind("mouseover",function(){o.hotSpotScrolling&&(i.data("scrollWrapper").stop(!0,!1),e.stopAutoScrolling(),i.data("rightScrollingInterval",setInterval(function(){i.data("scrollXPos")>0&&i.data("enabled")&&(i.data("scrollWrapper").scrollLeft(i.data("scrollWrapper").scrollLeft()+i.data("scrollXPos")*i.data("speedBooster")),o.manualContinuousScrolling&&e._checkContinuousSwapRight(),e._showHideHotSpots())},o.hotSpotScrollingInterval)),e._trigger("mouseOverRightHotSpot"))}),i.data("scrollingHotSpotRight").bind("mouseout",function(){o.hotSpotScrolling&&(clearInterval(i.data("rightScrollingInterval")),i.data("scrollXPos",0),o.easingAfterHotSpotScrolling&&i.data("enabled")&&i.data("scrollWrapper").animate({scrollLeft:i.data("scrollWrapper").scrollLeft()+o.easingAfterHotSpotScrollingDistance},{duration:o.easingAfterHotSpotScrollingDuration,easing:o.easingAfterHotSpotScrollingFunction}))}),i.data("scrollingHotSpotRight").bind("mousedown",function(){i.data("speedBooster",o.hotSpotMouseDownSpeedBooster)}),t("body").bind("mouseup",function(){i.data("speedBooster",1)}),i.data("scrollingHotSpotLeft").bind("mousemove",function(e){if(o.hotSpotScrolling){var a=i.data("hotSpotWidth")-(e.pageX-t(this).offset().left);i.data("scrollXPos",Math.round(a/i.data("hotSpotWidth")*o.hotSpotScrollingStep)),(i.data("scrollXPos")===1/0||i.data("scrollXPos")<1)&&i.data("scrollXPos",1)}}),i.data("scrollingHotSpotLeft").bind("mouseover",function(){o.hotSpotScrolling&&(i.data("scrollWrapper").stop(!0,!1),e.stopAutoScrolling(),i.data("leftScrollingInterval",setInterval(function(){i.data("scrollXPos")>0&&i.data("enabled")&&(i.data("scrollWrapper").scrollLeft(i.data("scrollWrapper").scrollLeft()-i.data("scrollXPos")*i.data("speedBooster")),o.manualContinuousScrolling&&e._checkContinuousSwapLeft(),e._showHideHotSpots())},o.hotSpotScrollingInterval)),e._trigger("mouseOverLeftHotSpot"))}),i.data("scrollingHotSpotLeft").bind("mouseout",function(){o.hotSpotScrolling&&(clearInterval(i.data("leftScrollingInterval")),i.data("scrollXPos",0),o.easingAfterHotSpotScrolling&&i.data("enabled")&&i.data("scrollWrapper").animate({scrollLeft:i.data("scrollWrapper").scrollLeft()-o.easingAfterHotSpotScrollingDistance},{duration:o.easingAfterHotSpotScrollingDuration,easing:o.easingAfterHotSpotScrollingFunction}))}),i.data("scrollingHotSpotLeft").bind("mousedown",function(){i.data("speedBooster",o.hotSpotMouseDownSpeedBooster)}),i.data("scrollableArea").mousewheel(function(t,a,n,r){if(i.data("enabled")&&o.mousewheelScrolling.length>0){var l;"vertical"===o.mousewheelScrolling&&0!==r?(e.stopAutoScrolling(),t.preventDefault(),l=Math.round(o.mousewheelScrollingStep*r*-1),e.move(l)):"horizontal"===o.mousewheelScrolling&&0!==n?(e.stopAutoScrolling(),t.preventDefault(),l=Math.round(o.mousewheelScrollingStep*n*-1),e.move(l)):"allDirections"===o.mousewheelScrolling&&(e.stopAutoScrolling(),t.preventDefault(),l=Math.round(o.mousewheelScrollingStep*a*-1),e.move(l))}}),o.mousewheelScrolling&&i.data("scrollingHotSpotLeft").add(i.data("scrollingHotSpotRight")).mousewheel(function(t){t.preventDefault()}),t(window).bind("resize",function(){e._showHideHotSpots(),e._trigger("windowResized")}),jQuery.isEmptyObject(o.getContentOnLoad)||e[o.getContentOnLoad.method](o.getContentOnLoad.content,o.getContentOnLoad.manipulationMethod,o.getContentOnLoad.addWhere,o.getContentOnLoad.filterTag),o.hiddenOnStart&&e.hide(),t(window).load(function(){if(o.hiddenOnStart||e.recalculateScrollableArea(),o.autoScrollingMode.length>0&&!o.hiddenOnStart&&e.startAutoScrolling(),"always"!==o.autoScrollingMode)switch(o.visibleHotSpotBackgrounds){case"always":e.showHotSpotBackgrounds();break;case"onStart":e.showHotSpotBackgrounds(),i.data("hideHotSpotBackgroundsInterval",setTimeout(function(){e.hideHotSpotBackgrounds(250)},o.hotSpotsVisibleTime));break;case"hover":i.mouseenter(function(t){o.hotSpotScrolling&&(t.stopPropagation(),e.showHotSpotBackgrounds(250))}).mouseleave(function(t){o.hotSpotScrolling&&(t.stopPropagation(),e.hideHotSpotBackgrounds(250))})}e._showHideHotSpots(),e._trigger("setupComplete")})},_init:function(){var t=this;this.element;t.recalculateScrollableArea(),t._showHideHotSpots(),t._trigger("initializationComplete")},_setOption:function(t,e){var o=this,i=this.options,a=this.element;i[t]=e,"hotSpotScrolling"===t?e===!0?o._showHideHotSpots():(a.data("scrollingHotSpotLeft").hide(),a.data("scrollingHotSpotRight").hide()):"autoScrollingStep"===t||"easingAfterHotSpotScrollingDistance"===t||"easingAfterHotSpotScrollingDuration"===t||"easingAfterMouseWheelScrollingDuration"===t?i[t]=parseInt(e,10):"autoScrollingInterval"===t&&(i[t]=parseInt(e,10),o.startAutoScrolling())},showHotSpotBackgrounds:function(t){var e=this,o=this.element,i=this.options;void 0!==t?(o.data("scrollingHotSpotLeft").addClass(i.scrollingHotSpotLeftVisibleClass),o.data("scrollingHotSpotRight").addClass(i.scrollingHotSpotRightVisibleClass),o.data("scrollingHotSpotLeft").add(o.data("scrollingHotSpotRight")).fadeTo(t,.35)):(o.data("scrollingHotSpotLeft").addClass(i.scrollingHotSpotLeftVisibleClass),o.data("scrollingHotSpotLeft").removeAttr("style"),o.data("scrollingHotSpotRight").addClass(i.scrollingHotSpotRightVisibleClass),o.data("scrollingHotSpotRight").removeAttr("style")),e._showHideHotSpots()},hideHotSpotBackgrounds:function(t){var e=this.element,o=this.options;void 0!==t?(e.data("scrollingHotSpotLeft").fadeTo(t,0,function(){e.data("scrollingHotSpotLeft").removeClass(o.scrollingHotSpotLeftVisibleClass)}),e.data("scrollingHotSpotRight").fadeTo(t,0,function(){e.data("scrollingHotSpotRight").removeClass(o.scrollingHotSpotRightVisibleClass)})):(e.data("scrollingHotSpotLeft").removeClass(o.scrollingHotSpotLeftVisibleClass).removeAttr("style"),e.data("scrollingHotSpotRight").removeClass(o.scrollingHotSpotRightVisibleClass).removeAttr("style"))},_showHideHotSpots:function(){var t=this,e=this.element,o=this.options;o.hotSpotScrolling?o.hotSpotScrolling&&"always"!==o.autoScrollingMode&&null!==e.data("autoScrollingInterval")?(e.data("scrollingHotSpotLeft").show(),e.data("scrollingHotSpotRight").show()):"always"!==o.autoScrollingMode&&o.hotSpotScrolling?e.data("scrollableAreaWidth")<=e.data("scrollWrapper").innerWidth()?(e.data("scrollingHotSpotLeft").hide(),e.data("scrollingHotSpotRight").hide()):0===e.data("scrollWrapper").scrollLeft()?(e.data("scrollingHotSpotLeft").hide(),e.data("scrollingHotSpotRight").show(),t._trigger("scrollerLeftLimitReached"),clearInterval(e.data("leftScrollingInterval")),e.data("leftScrollingInterval",null)):e.data("scrollableAreaWidth")<=e.data("scrollWrapper").innerWidth()+e.data("scrollWrapper").scrollLeft()?(e.data("scrollingHotSpotLeft").show(),e.data("scrollingHotSpotRight").hide(),t._trigger("scrollerRightLimitReached"),clearInterval(e.data("rightScrollingInterval")),e.data("rightScrollingInterval",null)):(e.data("scrollingHotSpotLeft").show(),e.data("scrollingHotSpotRight").show()):(e.data("scrollingHotSpotLeft").hide(),e.data("scrollingHotSpotRight").hide()):(e.data("scrollingHotSpotLeft").hide(),e.data("scrollingHotSpotRight").hide())},_setElementScrollPosition:function(e,o){var i=this.element,a=this.options,n=0;switch(e){case"first":return i.data("scrollXPos",0),!0;case"start":return""!==a.startAtElementId&&i.data("scrollableArea").has("#"+a.startAtElementId)?(n=t("#"+a.startAtElementId).position().left,i.data("scrollXPos",n),!0):!1;case"last":return i.data("scrollXPos",i.data("scrollableAreaWidth")-i.data("scrollWrapper").innerWidth()),!0;case"number":return isNaN(o)?!1:(n=i.data("scrollableArea").children(a.countOnlyClass).eq(o-1).position().left,i.data("scrollXPos",n),!0);case"id":return o.length>0&&i.data("scrollableArea").has("#"+o)?(n=t("#"+o).position().left,i.data("scrollXPos",n),!0):!1;default:return!1}},jumpToElement:function(t,e){var o=this,i=this.element;if(i.data("enabled")&&o._setElementScrollPosition(t,e))switch(i.data("scrollWrapper").scrollLeft(i.data("scrollXPos")),o._showHideHotSpots(),t){case"first":o._trigger("jumpedToFirstElement");break;case"start":o._trigger("jumpedToStartElement");break;case"last":o._trigger("jumpedToLastElement");break;case"number":o._trigger("jumpedToElementNumber",null,{elementNumber:e});break;case"id":o._trigger("jumpedToElementId",null,{elementId:e})}},scrollToElement:function(t,e){var o=this,i=this.element,a=this.options,n=!1;i.data("enabled")&&o._setElementScrollPosition(t,e)&&(null!==i.data("autoScrollingInterval")&&(o.stopAutoScrolling(),n=!0),i.data("scrollWrapper").stop(!0,!1),i.data("scrollWrapper").animate({scrollLeft:i.data("scrollXPos")},{duration:a.scrollToAnimationDuration,easing:a.scrollToEasingFunction,complete:function(){switch(n&&o.startAutoScrolling(),o._showHideHotSpots(),t){case"first":o._trigger("scrolledToFirstElement");break;case"start":o._trigger("scrolledToStartElement");break;case"last":o._trigger("scrolledToLastElement");break;case"number":o._trigger("scrolledToElementNumber",null,{elementNumber:e});break;case"id":o._trigger("scrolledToElementId",null,{elementId:e})}}}))},move:function(t){var e=this,o=this.element,i=this.options;if(o.data("scrollWrapper").stop(!0,!0),0>t&&o.data("scrollWrapper").scrollLeft()>0||t>0&&o.data("scrollableAreaWidth")>o.data("scrollWrapper").innerWidth()+o.data("scrollWrapper").scrollLeft()||i.manualContinuousScrolling){var a=o.data("scrollableArea").width()-o.data("scrollWrapper").width(),n=o.data("scrollWrapper").scrollLeft()+t;if(0>n)for(var r=function(){o.data("swappedElement",o.data("scrollableArea").children(":last").detach()),o.data("scrollableArea").prepend(o.data("swappedElement")),o.data("scrollWrapper").scrollLeft(o.data("scrollWrapper").scrollLeft()+o.data("swappedElement").outerWidth(!0))};0>n;)r(),n=o.data("scrollableArea").children(":first").outerWidth(!0)+n;else if(n-a>0)for(var l=function(){o.data("swappedElement",o.data("scrollableArea").children(":first").detach()),o.data("scrollableArea").append(o.data("swappedElement"));var t=o.data("scrollWrapper").scrollLeft();o.data("scrollWrapper").scrollLeft(t-o.data("swappedElement").outerWidth(!0))};n-a>0;)l(),n-=o.data("scrollableArea").children(":last").outerWidth(!0);i.easingAfterMouseWheelScrolling?o.data("scrollWrapper").animate({scrollLeft:o.data("scrollWrapper").scrollLeft()+t},{duration:i.easingAfterMouseWheelScrollingDuration,easing:i.easingAfterMouseWheelFunction,complete:function(){e._showHideHotSpots(),i.manualContinuousScrolling&&(t>0?e._checkContinuousSwapRight():e._checkContinuousSwapLeft())}}):(o.data("scrollWrapper").scrollLeft(o.data("scrollWrapper").scrollLeft()+t),e._showHideHotSpots(),i.manualContinuousScrolling&&(t>0?e._checkContinuousSwapRight():e._checkContinuousSwapLeft()))}},getFlickrContent:function(e,o){var i=this,a=this.element;t.getJSON(e,function(e){function n(e,l){var p=e.media.m,f=p.replace("_m",s[l].letter),g=t("<img />").attr("src",f);g.load(function(){if(this.height<a.data("scrollableAreaHeight")&&l+1<s.length?n(e,l+1):r(this),u===h){switch(o){case"addFirst":a.data("scrollableArea").children(":first").before(c);break;case"addLast":a.data("scrollableArea").children(":last").after(c);break;default:a.data("scrollableArea").html(c)}i.recalculateScrollableArea(),i._showHideHotSpots(),i._trigger("addedFlickrContent",null,{addedElementIds:d})}})}function r(e){var o=a.data("scrollableAreaHeight")/e.height,i=Math.round(e.width*o),n=t(e).attr("src").split("/"),r=n.length-1;n=n[r].split("."),t(e).attr("id",n[0]),t(e).css({height:a.data("scrollableAreaHeight"),width:i}),d.push(n[0]),c.push(e),u++}var l,s=[{size:"small square",pixels:75,letter:"_s"},{size:"thumbnail",pixels:100,letter:"_t"},{size:"small",pixels:240,letter:"_m"},{size:"medium",pixels:500,letter:""},{size:"medium 640",pixels:640,letter:"_z"},{size:"large",pixels:1024,letter:"_b"}],c=[],d=[],h=e.items.length,u=0;l=a.data("scrollableAreaHeight")<=75?0:a.data("scrollableAreaHeight")<=100?1:a.data("scrollableAreaHeight")<=240?2:a.data("scrollableAreaHeight")<=500?3:a.data("scrollableAreaHeight")<=640?4:5,t.each(e.items,function(t,e){n(e,l)})})},getAjaxContent:function(e,o,i){var a=this,n=this.element;t.ajaxSetup({cache:!1}),t.get(e,function(r){var l;switch(l=void 0!==i?i.length>0?t("<div>").html(r).find(i):e:r,o){case"addFirst":n.data("scrollableArea").children(":first").before(l);break;case"addLast":n.data("scrollableArea").children(":last").after(l);break;default:n.data("scrollableArea").html(l)}a.recalculateScrollableArea(),a._showHideHotSpots(),a._trigger("addedAjaxContent")})},getHtmlContent:function(e,o,i){var a,n=this,r=this.element;switch(a=void 0!==i&&i.length>0?t("<div>").html(e).find(i):e,o){case"addFirst":r.data("scrollableArea").children(":first").before(a);break;case"addLast":r.data("scrollableArea").children(":last").after(a);break;default:r.data("scrollableArea").html(a)}n.recalculateScrollableArea(),n._showHideHotSpots(),n._trigger("addedHtmlContent")},recalculateScrollableArea:function(){var e=0,o=!1,i=this.options,a=this.element;a.data("scrollableArea").children(i.countOnlyClass).each(function(){i.startAtElementId.length>0&&t(this).attr("id")===i.startAtElementId&&(a.data("startingPosition",e),o=!0),e+=t(this).outerWidth(!0)}),o||a.data("startAtElementId",""),a.data("scrollableAreaWidth",e),a.data("scrollableArea").width(a.data("scrollableAreaWidth")),a.data("scrollWrapper").scrollLeft(a.data("startingPosition")),a.data("scrollXPos",a.data("startingPosition"))},getScrollerOffset:function(){var t=this.element;return t.data("scrollWrapper").scrollLeft()},stopAutoScrolling:function(){var t=this,e=this.element;null!==e.data("autoScrollingInterval")&&(clearInterval(e.data("autoScrollingInterval")),e.data("autoScrollingInterval",null),t._showHideHotSpots(),t._trigger("autoScrollingStopped"))},startAutoScrolling:function(){var t=this,e=this.element,o=this.options;e.data("enabled")&&(t._showHideHotSpots(),clearInterval(e.data("autoScrollingInterval")),e.data("autoScrollingInterval",null),t._trigger("autoScrollingStarted"),e.data("autoScrollingInterval",setInterval(function(){if(!e.data("visible")||e.data("scrollableAreaWidth")<=e.data("scrollWrapper").innerWidth())clearInterval(e.data("autoScrollingInterval")),e.data("autoScrollingInterval",null);else switch(e.data("previousScrollLeft",e.data("scrollWrapper").scrollLeft()),o.autoScrollingDirection){case"right":e.data("scrollWrapper").scrollLeft(e.data("scrollWrapper").scrollLeft()+o.autoScrollingStep),e.data("previousScrollLeft")===e.data("scrollWrapper").scrollLeft()&&(t._trigger("autoScrollingRightLimitReached"),t.stopAutoScrolling());break;case"left":e.data("scrollWrapper").scrollLeft(e.data("scrollWrapper").scrollLeft()-o.autoScrollingStep),e.data("previousScrollLeft")===e.data("scrollWrapper").scrollLeft()&&(t._trigger("autoScrollingLeftLimitReached"),t.stopAutoScrolling());break;case"backAndForth":"right"===e.data("pingPongDirection")?e.data("scrollWrapper").scrollLeft(e.data("scrollWrapper").scrollLeft()+o.autoScrollingStep):e.data("scrollWrapper").scrollLeft(e.data("scrollWrapper").scrollLeft()-o.autoScrollingStep),e.data("previousScrollLeft")===e.data("scrollWrapper").scrollLeft()&&("right"===e.data("pingPongDirection")?(e.data("pingPongDirection","left"),t._trigger("autoScrollingRightLimitReached")):(e.data("pingPongDirection","right"),t._trigger("autoScrollingLeftLimitReached")));break;case"endlessLoopRight":e.data("scrollWrapper").scrollLeft(e.data("scrollWrapper").scrollLeft()+o.autoScrollingStep),t._checkContinuousSwapRight();break;case"endlessLoopLeft":e.data("scrollWrapper").scrollLeft(e.data("scrollWrapper").scrollLeft()-o.autoScrollingStep),t._checkContinuousSwapLeft()}},o.autoScrollingInterval)))},_checkContinuousSwapRight:function(){var e=this.element,o=this.options;if(e.data("getNextElementWidth")&&(o.startAtElementId.length>0&&e.data("startAtElementHasNotPassed")?(e.data("swapAt",t("#"+o.startAtElementId).outerWidth(!0)),e.data("startAtElementHasNotPassed",!1)):e.data("swapAt",e.data("scrollableArea").children(":first").outerWidth(!0)),e.data("getNextElementWidth",!1)),e.data("swapAt")<=e.data("scrollWrapper").scrollLeft()){e.data("swappedElement",e.data("scrollableArea").children(":first").detach()),e.data("scrollableArea").append(e.data("swappedElement"));var i=e.data("scrollWrapper").scrollLeft();e.data("scrollWrapper").scrollLeft(i-e.data("swappedElement").outerWidth(!0)),e.data("getNextElementWidth",!0)}},_checkContinuousSwapLeft:function(){var e=this.element,o=this.options;e.data("getNextElementWidth")&&(o.startAtElementId.length>0&&e.data("startAtElementHasNotPassed")?(e.data("swapAt",t("#"+o.startAtElementId).outerWidth(!0)),e.data("startAtElementHasNotPassed",!1)):e.data("swapAt",e.data("scrollableArea").children(":first").outerWidth(!0)),e.data("getNextElementWidth",!1)),0===e.data("scrollWrapper").scrollLeft()&&(e.data("swappedElement",e.data("scrollableArea").children(":last").detach()),e.data("scrollableArea").prepend(e.data("swappedElement")),e.data("scrollWrapper").scrollLeft(e.data("scrollWrapper").scrollLeft()+e.data("swappedElement").outerWidth(!0)),e.data("getNextElementWidth",!0))},restoreOriginalElements:function(){var t=this,e=this.element;e.data("scrollableArea").html(e.data("originalElements")),t.recalculateScrollableArea(),t.jumpToElement("first")},show:function(){var t=this.element;t.data("visible",!0),t.show()},hide:function(){var t=this.element;t.data("visible",!1),t.hide()},enable:function(){var t=this.element;this.options.touchScrolling&&t.data("scrollWrapper").kinetic("attach"),t.data("enabled",!0)},disable:function(){var t=this,e=this.element;t.stopAutoScrolling(),clearInterval(e.data("rightScrollingInterval")),clearInterval(e.data("leftScrollingInterval")),clearInterval(e.data("hideHotSpotBackgroundsInterval")),this.options.touchScrolling&&e.data("scrollWrapper").kinetic("detach"),e.data("enabled",!1)},destroy:function(){var e=this,o=this.element;e.stopAutoScrolling(),clearInterval(o.data("rightScrollingInterval")),clearInterval(o.data("leftScrollingInterval")),clearInterval(o.data("hideHotSpotBackgroundsInterval")),o.data("scrollingHotSpotRight").unbind("mouseover"),o.data("scrollingHotSpotRight").unbind("mouseout"),o.data("scrollingHotSpotRight").unbind("mousedown"),o.data("scrollingHotSpotLeft").unbind("mouseover"),o.data("scrollingHotSpotLeft").unbind("mouseout"),o.data("scrollingHotSpotLeft").unbind("mousedown"),o.unbind("mousenter"),o.unbind("mouseleave"),o.data("scrollingHotSpotRight").remove(),o.data("scrollingHotSpotLeft").remove(),o.data("scrollableArea").remove(),o.data("scrollWrapper").remove(),o.html(o.data("originalElements")),t.Widget.prototype.destroy.apply(this,arguments)}})}(jQuery),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.lightbox=e(t.jQuery)}(this,function(t){function e(e){this.album=[],this.currentImageIndex=void 0,this.init(),this.options=t.extend({},this.constructor.defaults),this.option(e)}return e.defaults={albumLabel:"Imagen %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:500,fitImagesInViewport:!0,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1},e.prototype.option=function(e){t.extend(this.options,e)},e.prototype.imageCountLabel=function(t,e){return this.options.albumLabel.replace(/%1/g,t).replace(/%2/g,e)},e.prototype.init=function(){this.enable(),this.build()},e.prototype.enable=function(){var e=this;t("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(o){return e.start(t(o.currentTarget)),!1})},e.prototype.build=function(){var e=this;t('<div id="lightboxOverlay" class="lightboxOverlay"></div><div id="lightbox" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" /><div class="lb-nav"><a class="lb-prev" href="" ></a><a class="lb-next" href="" ></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>').appendTo(t("body")),this.$lightbox=t("#lightbox"),this.$overlay=t("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.containerTopPadding=parseInt(this.$container.css("padding-top"),10),this.containerRightPadding=parseInt(this.$container.css("padding-right"),10),this.containerBottomPadding=parseInt(this.$container.css("padding-bottom"),10),this.containerLeftPadding=parseInt(this.$container.css("padding-left"),10),this.$overlay.hide().on("click",function(){return e.end(),!1}),this.$lightbox.hide().on("click",function(o){return"lightbox"===t(o.target).attr("id")&&e.end(),!1}),this.$outerContainer.on("click",function(o){return"lightbox"===t(o.target).attr("id")&&e.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return 0===e.currentImageIndex?e.changeImage(e.album.length-1):e.changeImage(e.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return e.currentImageIndex===e.album.length-1?e.changeImage(0):e.changeImage(e.currentImageIndex+1),!1}),this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return e.end(),!1})},e.prototype.start=function(e){function o(t){i.album.push({link:t.attr("href"),title:t.attr("data-title")||t.attr("title")})}var i=this,a=t(window);a.on("resize",t.proxy(this.sizeOverlay,this)),t("select, object, embed").css({visibility:"hidden"}),this.sizeOverlay(),this.album=[];var n,r=0,l=e.attr("data-lightbox");if(l){n=t(e.prop("tagName")+'[data-lightbox="'+l+'"]');for(var s=0;s<n.length;s=++s)o(t(n[s])),n[s]===e[0]&&(r=s)}else if("lightbox"===e.attr("rel"))o(e);else{n=t(e.prop("tagName")+'[rel="'+e.attr("rel")+'"]');for(var c=0;c<n.length;c=++c)o(t(n[c])),n[c]===e[0]&&(r=c)}var d=a.scrollTop()+this.options.positionFromTop,h=a.scrollLeft();this.$lightbox.css({top:d+"px",left:h+"px"}).fadeIn(this.options.fadeDuration),this.options.disableScrolling&&t("body").addClass("lb-disable-scrolling"),this.changeImage(r)},e.prototype.changeImage=function(e){var o=this;this.disableKeyboardNav();var i=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration),t(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var a=new Image;a.onload=function(){var n,r,l,s,c,d,h;i.attr("src",o.album[e].link),n=t(a),i.width(a.width),i.height(a.height),o.options.fitImagesInViewport&&(h=t(window).width(),d=t(window).height(),c=h-o.containerLeftPadding-o.containerRightPadding-20,s=d-o.containerTopPadding-o.containerBottomPadding-120,o.options.maxWidth&&o.options.maxWidth<c&&(c=o.options.maxWidth),o.options.maxHeight&&o.options.maxHeight<c&&(s=o.options.maxHeight),(a.width>c||a.height>s)&&(a.width/c>a.height/s?(l=c,r=parseInt(a.height/(a.width/l),10),i.width(l),i.height(r)):(r=s,l=parseInt(a.width/(a.height/r),10),i.width(l),i.height(r)))),o.sizeContainer(i.width(),i.height())},a.src=this.album[e].link,this.currentImageIndex=e},e.prototype.sizeOverlay=function(){this.$overlay.width(t(document).width()).height(t(document).height())},e.prototype.sizeContainer=function(t,e){function o(){i.$lightbox.find(".lb-dataContainer").width(r),i.$lightbox.find(".lb-prevLink").height(l),i.$lightbox.find(".lb-nextLink").height(l),i.showImage()}var i=this,a=this.$outerContainer.outerWidth(),n=this.$outerContainer.outerHeight(),r=t+this.containerLeftPadding+this.containerRightPadding,l=e+this.containerTopPadding+this.containerBottomPadding;a!==r||n!==l?this.$outerContainer.animate({width:r,height:l},this.options.resizeDuration,"swing",function(){o()}):o()},e.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide(),this.$lightbox.find(".lb-image").fadeIn("slow"),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},e.prototype.updateNav=function(){var t=!1;try{document.createEvent("TouchEvent"),t=!!this.options.alwaysShowNavOnTouchDevices}catch(e){}this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?(t&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),t&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),t&&this.$lightbox.find(".lb-next").css("opacity","1"))))},e.prototype.updateDetails=function(){var e=this;if("undefined"!=typeof this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title&&this.$lightbox.find(".lb-caption").html(this.album[this.currentImageIndex].title).fadeIn("fast").find("a").on("click",function(e){void 0!==t(this).attr("target")?window.open(t(this).attr("href"),t(this).attr("target")):location.href=t(this).attr("href")}),this.album.length>1&&this.options.showImageNumberLabel){var o=this.imageCountLabel(this.currentImageIndex+1,this.album.length);this.$lightbox.find(".lb-number").text(o).fadeIn("fast")}else this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return e.sizeOverlay()})},e.prototype.preloadNeighboringImages=function(){if(this.album.length>this.currentImageIndex+1){var t=new Image;t.src=this.album[this.currentImageIndex+1].link}if(this.currentImageIndex>0){var e=new Image;e.src=this.album[this.currentImageIndex-1].link}},e.prototype.enableKeyboardNav=function(){t(document).on("keyup.keyboard",t.proxy(this.keyboardAction,this))},e.prototype.disableKeyboardNav=function(){t(document).off(".keyboard")},e.prototype.keyboardAction=function(t){var e=27,o=37,i=39,a=t.keyCode,n=String.fromCharCode(a).toLowerCase();a===e||n.match(/x|o|c/)?this.end():"p"===n||a===o?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):"n"!==n&&a!==i||(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},e.prototype.end=function(){this.disableKeyboardNav(),t(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),t("select, object, embed").css({visibility:"visible"}),this.options.disableScrolling&&t("body").removeClass("lb-disable-scrolling");
},new e});